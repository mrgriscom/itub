<html>
<head>
  <title>hot tub control</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/style/style.css">

  <script src="/script/jquery-3.3.1.js"></script>
  <script src="/script/moment.min.js"></script>
  <script src="/script/knockout-3.4.2.debug.js"></script>
  <script src="/script/underscore-min-1.6.0.js"></script>
  <script src="/script/main.js"></script>

  <link rel="stylesheet" href="//cdn.jsdelivr.net/chartist.js/latest/chartist.min.css">
  <script src="//cdn.jsdelivr.net/chartist.js/latest/chartist.min.js"></script>
  
  <script>

{% autoescape None %}
DATA = null;

$(document).ready(init);

  </script>
</head>
<body>
  <style>

body {
  font-family: sans-serif;
  margin: 15px;
}

.ct-line {
  stroke-width: 2px;
}

  </style>

  <div id="connectionstatus" style="color: red;"></div>
  <div id="ui">

    <div style="margin-bottom: 10px;">
      <div style="font-size: 80%;"><span style="font-weight: bold;">TARGET</span> (&#xb1;<span data-bind="text: temp_tol"></span> &#xb0;C)</div>
      <select style="width: 100%; font-size: 64pt; text-align: center;" id="setpoint" data-bind="options: setpoints, optionsText: format_setpoint, value: setpoint, event: {change: setpointChanged}"></select>
      <div style="font-weight: bold; color: #a00;" data-bind="visible: temp_stale">note: up-to-date temp. not available!</div>
    </div>
    
    <div>
      <div style="font-size: 80%;"><span style="font-weight: bold;">CURRENT</span> (a/o <span data-bind="text: temp() ? temp_age() : '??'"></span>)</div>
      <div style="font-size: 64pt;" data-bind="style: {color: temp_stale() ? '#aaa' : 'black'}"><span data-bind="text: temp() != null ? temp().toFixed(1) : '??'"></span> &#xb0;C</div>
      <div style="font-weight: bold;" data-bind="style: {color: heater_on() ? '#f00' : '#07e'}">HEATER <span data-bind="text: heater_on() ? 'ON' : 'OFF'"></span></div>
    </div>
    
    <div class="ct-chart ct-minor-third"></div>
   
</body>
</html>

